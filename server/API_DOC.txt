Документация к API для REST-сервера приложения MyBaby.
Сервер выполняет задачу поставки данных в приложение через обращение к базе данных.
Каждый ответ от сервера возвращает статус, headers и объект ответа со значениями и типами. Описание сложных типов можно найти в приложении документации.
Клиент может обращаться на следующие эндпоинты для получения или публикации определённых данных:

Замечание:
Перед каждым путём проставляется определяющий путь /api, следующий после указания domain (Пример: http://mybaby.ru/api/login)

1. Логинизация 
GET /login
Логинизация посредством использования jwt-токена.
Клиенту необходимо отправить в качестве заголовка Authentication значение токена в формате 'Bearer ' + token
Варианты ответа от сервера:
- STATUS 200. Успех. Вы авторизованы с помощью jwt-токена. Тело ответа:
{
        login: string, // логин пользователя
        statusFamily: statusFamilyType, // статус пользователя в семье
        status: citeStatusType, // статус пользователя на сайте
}
- STATUS 400. Непредвиденная ошибка. Может быть связана с работой третьей стороны (базы данных, сети и тд). Тело ответа: 
{
        message: 'Error', // Дефолтное неопределенное описание ошибки
        error: string // Конкретная ошибка, переданная с нижнего уровня
}

POST /login
Классический способ входа на сайт с использованием логина и пароля
Клиенту необходимо подготовить body с полями:
{
        login: string,
        password: string
}
Варианты ответа от сервера:
- STATUS 200. Успех. Вы авторизованы с помощью jwt-токена. Тело ответа:
{
        token: `Bearer ${token}` as string, // access-токен, который необходимо сохранить в localStorage
        login: string, // логин пользователя
        statusFamily: statusFamilyType, // статус пользователя в семье
        status: citeStatusType, // статус пользователя на сайте
        _id: string // уникальный идентификатор пользователя в базе данных
}

- STATUS 404. Пользователя с указанными данными не существует. Тело ответа:
{
        message: 'Пользователя не существует'
}

- STATUS 401. Пользователь не был авторизован с помощью введенных данных. Тело ответа: 
{
        message: 'неправильный пароль'
}

- STATUS 400. Непредвиденная ошибка. Может быть связана с работой третьей стороны (базы данных, сети и тд). Тело ответа: 
{
        message: 'Error', // Дефолтное неопределенное описание ошибки
        error: string // Конкретная ошибка, переданная с нижнего уровня
}

2. Регистрация
POST /registration
Регистрация в приложении реализована, но доступна пользователю с имеющимся инвайтом 1 раз.
Запрос требует от клиента отправки тела со следующими полями: 
{
        login: string,
        password: string,
        statusFamily: statusFamilyType,
        invite: string
}
Варианты ответа от сервера:
-STATUS 200. Успешная регистрация. Пользователь в теле ответа получает логин, пароль и семейный статус.

-STATUS 406. Регистрация невозможна, так как пользователь уже зарегистрирован.
{
        message: 'пользователь уже зарегистрирован'
}

-STATUS 400. Регистрация невозможна. Неверный инвайт.
{
         message: "недействительный инвайт"
}

3. Ребёнок


ПРИЛОЖЕНИЕ

Развернутый перечень типов возвращаемых данных.
Замечание: список сложных типов состоит из названия базового примитивного типа, который может включать в себя ограниченное количество значений
в скобках, либо .

1. GET /login
statusFamilyType = string('Папа','Мама','Малыш','Малышка')
citeStatusType = string('admin', 'user')